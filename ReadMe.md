# How to reproduce

bazel build //:foo_1 //:foo_2 --experimental_platform_in_output_dir

# Error message
```txt
ERROR: file '_objs/foo/foo.o' is generated by these conflicting actions:
Label: //:foo
RuleClass: cc_library rule
JavaActionClass: class com.google.devtools.build.lib.rules.cpp.CppCompileAction
Configuration: 798fff24ecc2cb8071934861f69d274abe836d04e7f8d12b5d2f61f488e0c62c, 82c490cc7ceff05dca93ee1500f6e5c3a677456475b299a8658ac19fdeaf5d4b
Mnemonic: CppCompile
Action key: 8de3270cd6078ea47d6a2f87027421c0e87d65b71df98a5b37c5c905e3a654f0
Progress message: Compiling foo.cpp
Action describeKey: Compiling foo.cpp
  Command: external/bazel_tools~cc_configure_extension~local_config_cc/cc_wrapper.sh
  Argument: -U_FORTIFY_SOURCE
  Argument: -fstack-protector
  Argument: -Wall
  Argument: -Wthread-safety
  Argument: -Wself-assign
  Argument: -Wunused-but-set-parameter
  Argument: -Wno-free-nonheap-object
  Argument: -fcolor-diagnostics
  Argument: -fno-omit-frame-pointer
  Argument: '-std=c++14'
  Argument: -MD
  Argument: -MF
  Argument: bazel-out/darwin_x86_64-fastbuild/bin/_objs/foo/foo.d
  Argument: '-frandom-seed=bazel-out/darwin_x86_64-fastbuild/bin/_objs/foo/foo.o'
  Argument: -iquote
  Argument: .
  Argument: -iquote
  Argument: bazel-out/darwin_x86_64-fastbuild/bin
  Argument: '-mmacosx-version-min=13.3'
  Argument: -no-canonical-prefixes
  Argument: -Wno-builtin-macro-redefined
  Argument: '-D__DATE__="redacted"'
  Argument: '-D__TIMESTAMP__="redacted"'
  Argument: '-D__TIME__="redacted"'
  Argument: -c
  Argument: foo.cpp
  Argument: -o
  Argument: bazel-out/darwin_x86_64-fastbuild/bin/_objs/foo/foo.o

PrimaryInput: File:[/Users/evgeny.oparin/Documents/projects/bazel_issues[source]]foo.cpp
PrimaryOutput: File:[[<execution_root>]bazel-out/darwin_x86_64-fastbuild/bin]_objs/foo/foo.o
Owner information: ConfiguredTargetKey{label=//:foo, config=BuildConfigurationKey[798fff24ecc2cb8071934861f69d274abe836d04e7f8d12b5d2f61f488e0c62c]}, ConfiguredTargetKey{label=//:foo, config=BuildConfigurationKey[82c490cc7ceff05dca93ee1500f6e5c3a677456475b299a8658ac19fdeaf5d4b]}
MandatoryInputs: are equal
Outputs: are equal
Use --verbose_failures to see the command lines of failed build steps.
```
